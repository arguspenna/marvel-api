"use strict";angular.module("desafioApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainController",controllerAs:"mainCtrl"}).when("/details/:heroId",{templateUrl:"views/details.html",controller:"DetailController",controllerAs:"detailCtrl"}).otherwise({redirectTo:"/"})}]),function(){function a(a,b){function c(){}function d(a,c){c?g.pageNumber++:g.herosList=[],b.getHeroes(a,g.pageNumber).then(function(a){g.afterSearch=!0,g.herosList.length>0?g.herosList=g.herosList.concat(a.data.data.results):g.herosList=a.data.data.results})}function e(a){a.length>0?g.disableSearch=!1:g.disableSearch=!0}function f(b){a.path("/details/"+b.id)}var g=this;g.onInit=c,g.disableBtn=e,g.SearchHeros=d,g.editHero=f,g.disableSearch=!0,g.herosList=[],g.pageNumber=0,g.afterSearch=!1}angular.module("desafioApp").controller("MainController",a),a.$inject=["$location","HeroesService"]}(),function(){function a(a,b){function c(){a.getHeroDetails(b.current.params.heroId).then(function(a){e.hero=a.data.data.results[0]})}function d(){return""!=e.hero.description?e.hero.description:"Descrição não disponível"}var e=this;e.OnLoad=c,e.heroHasDescription=d,e.hero=[]}angular.module("desafioApp").controller("DetailController",a),a.$inject=["HeroesService","$route"]}(),function(){function a(a){var b=this;b.getHeroes=function(b,c){return a.get("https://gateway.marvel.com/v1/public/characters",{params:{apikey:"38b1589a4602db99bea14aebbc96fb99",limit:20,offset:20*c,nameStartsWith:b}})},b.getHeroDetails=function(b){var c="https://gateway.marvel.com/v1/public/characters/"+b;return a.get(c,{params:{apikey:"38b1589a4602db99bea14aebbc96fb99"}})}}angular.module("desafioApp").service("HeroesService",a),a.$inject=["$http"]}(),angular.module("desafioApp").run(["$templateCache",function(a){a.put("views/details.html",'<div class="row" ng-init="detailCtrl.OnLoad()"> <div class="col-12 col-md-6"> <h1 class="mb-1 mt-4">{{detailCtrl.hero.name}}</h1> <div class="text-center" flex> <img class="w-100 recursive-image mt-2" ng-src="{{detailCtrl.hero.thumbnail.path}}.{{detailCtrl.hero.thumbnail.extension}}"> </div> <p class="description-text"> {{detailCtrl.heroHasDescription()}}</p> </div> <div class="col-12 col-md-6"> <h2 class="mb-3 mt-4">Aparece em:</h2> <div class="panel panel-default" class="scrollable-panel"> <!-- Default panel contents --> <!-- <div class="panel-heading">Comics <span class="badge">{{detailCtrl.hero.comics.items.length}}</span></div> --> <ul class="list-group" ng-if="detailCtrl.hero.comics.items.length > 0"> <li ng-repeat="comic in detailCtrl.hero.comics.items" class="list-group-item">{{comic.name}}</li> </ul> </div> </div> </div>'),a.put("views/main.html",'<div class="d-flex justify-content-center align-items-center p-5"> <img class="w-50" src="images/marvel_logo.png"><br> </div>  <div class="form-group d-flex flex-column"> <input type="text" class="form-control inputSearch" placeholder="Sobre qual herói quer pesquisar?" ng-model="mainCtrl.HeroFilter" ng-change="mainCtrl.disableBtn(mainCtrl.HeroFilter)"> </div> <button class="btn btn-default btn-primary w-100 mb-4" type="button" ng-disabled="mainCtrl.disableSearch" ng-click="mainCtrl.SearchHeros(mainCtrl.HeroFilter)">Pesquisar</button> <div ng-if="mainCtrl.herosList.length > 0"> <h1>Resultados:</h1> <div class="row"> <div class="col-md-4" ng-repeat="(key, hero) in mainCtrl.herosList"> <div class="thumbnail thumbnail-result d-flex flex-column justify-content-between"> <img class="w-100" ng-src="{{hero.thumbnail.path}}.{{hero.thumbnail.extension}}"> <div class="caption mb-4"> <h2>{{hero.name}}</h2> <p ng-show="{{hero.description != \'\'}}">{{hero.description}}</p> <p ng-show="{{hero.description == \'\'}}">Descrição não disponível</p> </div> <button class="btn btn-primary btn-lg btn-block" ng-click="mainCtrl.editHero(hero)" flex>Detalhes</button> </div> </div> </div> <button class="btn btn-default btn-primary w-100 mb-4" type="button" ng-click="mainCtrl.SearchHeros(mainCtrl.HeroFilter, true)">Pesquisar mais</button> </div> <div ng-if="mainCtrl.herosList.length == 0" ng-show="mainCtrl.afterSearch"> <h1>Nenhum resultado encontrado</h1> </div> <!-- <div class="list-group" ng-if="mainCtrl.herosList.length > 0">\r\n  <button ng-repeat="(key, hero) in mainCtrl.herosList" type="button" class="list-group-item" ng-click="mainCtrl.editHero(hero)">{{hero.name}}</button>\r\n</div> -->')}]);